<?php if(!function_exists('tpl_block_help')){ require(CORE_DIR.'/admin/smartyplugin/block.help.php'); } if(!function_exists('tpl_input_default')){ require(CORE_DIR.'/include_v5/smartyplugins/input.default.php'); } if(!function_exists('tpl_input_radio')){ require(CORE_DIR.'/include_v5/smartyplugins/input.radio.php'); } if(!function_exists('tpl_input_select')){ require(CORE_DIR.'/include_v5/smartyplugins/input.select.php'); } if(!function_exists('tpl_input_color')){ require(CORE_DIR.'/include_v5/smartyplugins/input.color.php'); } if(!function_exists('tpl_modifier_storager')){ require(CORE_DIR.'/include_v5/smartyplugins/modifier.storager.php'); } ?><form action='index.php?ctl=system/setting&act=watermarkEdit' method='post' enctype="multipart/form-data" target="{update:'messagebox'}" id="setting-form"> <input type='hidden' name='returl' value='index.php?ctl=system/setting&act=siteBasic' /> <div class="tableform notice">一张商品图片上传后，会自动生成三张图片，分别出现在商店的三类页面，如下：<br>1：显示在商品列表页、首页商品版块内的图片，我们称为“列表页缩略图”；<br>2：显示在商品详细页内的图片，我们称为“商品页详细图”；<br>3：显示在商品相册页内的图片，我们称为“商品相册图”；</div> <div class="tableform"> <table width="100%" border="0" cellpadding="0" cellspacing="0" ><tr><td> <h4>三种图片尺寸设定</h4> </td><td style="text-align:right; padding-right:10px;"><?php $this->_tag_stack[] = array('tpl_block_help', array('docid' => "66",'type' => "link")); tpl_block_help(array('docid' => "66",'type' => "link"), null, $this); ob_start(); ?>点击查看图片设置帮助<?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_content = tpl_block_help($this->_tag_stack[count($this->_tag_stack) - 1][1], $_block_content, $this); echo $_block_content; array_pop($this->_tag_stack); $_block_content=''; ?></td></tr></table> <div class="division"> <table border="0" cellpadding="0" cellspacing="0"> <tr> <th>列表页缩略图 </th> <td width="220"> 宽度：<?php echo tpl_input_default(array('type' => 'digits','name' => 'thumbnail_pic_width','id' => 'thumbnail_pic_width','value' => $this->_vars['thumbnail_pic_width'],'style' => "width:40px",'required' => 'true'), $this);?>&nbsp; 高度：&nbsp; <?php echo tpl_input_default(array('type' => 'digits','name' => 'thumbnail_pic_height','id' => 'thumbnail_pic_height','value' => $this->_vars['thumbnail_pic_height'],'style' => "width:40px",'required' => 'true'), $this);?>&nbsp; <span class='lnk' onclick="previewImg('index.php?ctl=system/setting&act=createPreviewImg&p[0]=thumbnail&p[1]=1',$('setting-form'), $('thumbnail_pic_width').value, $('thumbnail_pic_height').value);">预览</span> </td> <th>缺省图：</th> <td><?php echo tpl_input_default(array('type' => 'file','name' => 'default_thumbnail_pic','size' => '10'), $this); if( $this->_vars['default_thumbnail_pic'] ){ ?><a class='lnk' href='<?php echo $this->_vars['default_thumbnail_pic']; ?>' target='showpic'>查看</a><?php } ?></td> </tr> <tr> <th>商品页详细图 </th> <td > 宽度：<?php echo tpl_input_default(array('type' => 'digits','name' => 'small_pic_width','id' => 'small_pic_width','value' => $this->_vars['small_pic_width'],'style' => "width:40px",'required' => 'true'), $this);?>&nbsp; 高度：&nbsp; <?php echo tpl_input_default(array('type' => 'digits','name' => 'small_pic_height','id' => 'small_pic_height','value' => $this->_vars['small_pic_height'],'style' => "width:40px",'required' => 'true'), $this);?>&nbsp; <span class='lnk' onclick="previewImg('index.php?ctl=system/setting&act=createPreviewImg&p[0]=small&p[1]=1',$('setting-form'), $('small_pic_width').value, $('small_pic_height').value)">预览</span> </td> <th>缺省图：</th> <td><?php echo tpl_input_default(array('type' => 'file','name' => 'default_small_pic','size' => '10'), $this); if( $this->_vars['default_small_pic'] ){ ?><a class='lnk' href='<?php echo $this->_vars['default_small_pic']; ?>' target='showpic'>查看</a><?php } ?></td> </tr> <tr> <th>　商品相册图 </th> <td > 宽度：<?php echo tpl_input_default(array('type' => 'digits','name' => 'big_pic_width','id' => 'big_pic_width','value' => $this->_vars['big_pic_width'],'style' => "width:40px",'required' => 'true'), $this);?>&nbsp; 高度：&nbsp; <?php echo tpl_input_default(array('type' => 'digits','name' => 'big_pic_height','id' => 'big_pic_height','value' => $this->_vars['big_pic_height'],'style' => "width:40px",'required' => 'true'), $this);?>&nbsp; <span class='lnk' onclick="previewImg('index.php?ctl=system/setting&act=createPreviewImg&p[0]=big&p[1]=1',$('setting-form'), $('big_pic_width').value, $('big_pic_height').value)">预览</span> </td> <th>缺省图：</th> <td><?php echo tpl_input_default(array('type' => 'file','name' => 'default_big_pic','size' => '10'), $this); if( $this->_vars['default_big_pic'] ){ ?><a class='lnk' href='<?php echo $this->_vars['default_big_pic']; ?>' target='showpic'>查看</a><?php } ?></td> </tr> </table> </div><span class="notice-inline">注意：如果尺寸设置为0，则显示商品图片原始尺寸。</span><br /><br /> <h4>是否开启图片放大镜功能 <?php $this->_tag_stack[] = array('tpl_block_help', array()); tpl_block_help(array(), null, $this); ob_start(); ?>开启图片放大镜后，顾客可以通过移动鼠标来查看前台商品详细页图片的细节放大效果<?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_content = tpl_block_help($this->_tag_stack[count($this->_tag_stack) - 1][1], $_block_content, $this); echo $_block_content; array_pop($this->_tag_stack); $_block_content=''; ?></h4> <div class="division"><label><input type="checkbox" name="readingGlass" <?php if( $this->_vars['readingGlass'] ){ ?>checked="checked"<?php } ?>>开启图片放大镜</label> &nbsp; &nbsp; &nbsp; &nbsp; 宽度：<input type="text" name="readingGlassWidth" size=5 style="width:40px" value="<?php echo ((isset($this->_vars['readingGlassWidth']) && ''!==$this->_vars['readingGlassWidth'])?$this->_vars['readingGlassWidth']:$this->_vars['small_pic_width']); ?>">&nbsp; 高度：<input type="text" name="readingGlassHeight" size=5 style="width:40px" value="<?php echo ((isset($this->_vars['readingGlassHeight']) && ''!==$this->_vars['readingGlassHeight'])?$this->_vars['readingGlassHeight']:$this->_vars['small_pic_height']); ?>"><span class="notice-inline">注意：本处宽度和高度是指放大镜的边框大小</span> </div> <div class="table-action"> <button type="submit" class="btn"><span><span>保存</span></span></button> </div> </div> <div class="tableform" > <table width="100%" border="0" cellpadding="0" cellspacing="0" ><tr><td> <h4>商品页详细图水印设定</h4> </td><td style="text-align:right; padding-right:10px;"><?php $this->_tag_stack[] = array('tpl_block_help', array('docid' => "67",'type' => "link")); tpl_block_help(array('docid' => "67",'type' => "link"), null, $this); ob_start(); ?>点击查看水印设置帮助<?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_content = tpl_block_help($this->_tag_stack[count($this->_tag_stack) - 1][1], $_block_content, $this); echo $_block_content; array_pop($this->_tag_stack); $_block_content=''; ?></td></tr></table> <div class="division"><?php if( $this->_vars['gd_loaded'] ){ ?> <table border="0" cellpadding="0" cellspacing="0"> <tr> <th>是否开启：</th> <td><?php echo tpl_input_radio(array('name' => "wm_small_enable",'value' => $this->_vars['wm_small_enable'],'options' => $this->_vars['enable_options'],'onClick' => " switch(this.value){ case '0': $('dt_wt_pic_set').style.display='none'; $('dt_sy_pic').getElements('input').each(function(item){item.disabled=true;}); $('dt_sy_char').getElements('input').each(function(item){item.disabled=true;}); break; case '1': $('dt_wt_pic_set').style.display=''; $('dt_sy_pic').style.display='';$('dt_sy_char').style.display='none'; $('dt_sy_pic').getElements('input').each(function(item){item.disabled=false;}); $('dt_sy_char').getElements('input').each(function(item){item.disabled=true;}); break; case '2': $('dt_wt_pic_set').style.display=''; $('dt_sy_pic').style.display='none';$('dt_sy_char').style.display=''; $('dt_sy_pic').getElements('input').each(function(item){item.disabled=true;}); $('dt_sy_char').getElements('input').each(function(item){item.disabled=false;}); break; }; "), $this);?></td> </tr> </table> </div> <div class="division" id="dt_wt_pic_set" <?php if( $this->_vars['wm_small_enable']==0 ){ ?>style="display:none"<?php } ?>> <table table border="0" cellpadding="0" cellspacing="0"> <tbody id="dt_sy_pic" <?php if( $this->_vars['wm_small_enable']==2 ){ ?>style="display:none"<?php } ?>> <tr> <th>水印图片：</th> <td><?php echo tpl_input_default(array('type' => 'file','name' => 'wm_small_pic','size' => '30'), $this); if( $this->_vars['wm_small_pic'] ){ ?><a href='<?php echo $this->_vars['wm_small_pic']; ?>' target='showpic'>查看</a><?php } ?></td> </tr> <tr> <th>图片水印透明度：</th> <td><?php echo tpl_input_default(array('name' => "wm_small_transition",'type' => "text",'size' => 5,'style' => "width:40px",'value' => $this->_vars['wm_small_transition']), $this);?><span class="notice-inline">透明度请设置为0-100之间的数字，0代表完全透明，100代表不透明（水印图片仅支持gif格式的图片）</span></td> </tr> </tbody> <tbody id="dt_sy_char" <?php if( $this->_vars['wm_small_enable']==0 or $this->_vars['wm_small_enable']==1 ){ ?>style="display:none"<?php } ?>> <tr> <th>水印文字：</th> <td><?php echo tpl_input_default(array('name' => "wm_small_text",'type' => "text",'size' => "60",'value' => $this->_vars['wm_small_text']), $this);?>&nbsp;</td> </tr> <tr> <th>水印文字字体：</th> <td><?php echo tpl_input_select(array('name' => "wm_small_font",'value' => $this->_vars['wm_small_font'],'options' => $this->_vars['wm_font_options']), $this); if( !$this->_vars['wm_font_options'] ){ ?> <span class="notice-inline">请把所需的字体文件上传到网店服务器根目录下的/public/font文件夹中，字体文件位于本机C:\WINDOWS\Fonts下，例如文件SimSun.ttc表示宋体</span><?php } ?></td> </tr> <tr> <th>字体水印透明度：</th> <td colspan="3"><?php echo tpl_input_default(array('name' => "wm_small_text_transition",'type' => "text",'size' => 5,'value' => ((isset($this->_vars['wm_small_text_transition']) && ''!==$this->_vars['wm_small_text_transition'])?$this->_vars['wm_small_text_transition']:50)), $this);?><span class="notice-inline">透明度请设置为0-127之间的数字，127代表完全透明，0代表不透明</span></td> </tr> <tr> <th>水印文字字体大小：</th> <td><?php echo tpl_input_default(array('name' => "wm_small_font_size",'type' => "text",'size' => 5,'style' => "width:40px",'value' => $this->_vars['wm_small_font_size']), $this);?>&nbsp;</td> </tr> <tr> <th>水印文字颜色：</th> <td><?php echo tpl_input_color(array('name' => "wm_small_font_color",'style' => "width:66px",'value' => ((isset($this->_vars['wm_small_font_color']) && ''!==$this->_vars['wm_small_font_color'])?$this->_vars['wm_small_font_color']:"default")), $this);?>&nbsp;</td> </tr> </tbody> <tbody> <tr> <th>水印位置：</th> <td> <table style="width:300px" border=1 cellspacing="1" > <tr> <td><label forid="wm_small_text_1"><input type="radio" name="wm_small_loc" id="wm_small_text_1" value='1' <?php if( $this->_vars['wm_small_loc'] == 1 ){ ?>checked="checked"<?php } ?>/>顶部居左</label></td> <td><label forid="wm_small_text_5"><input type="radio" name="wm_small_loc" id="wm_small_text_5" value='5' <?php if( $this->_vars['wm_small_loc'] == 5 ){ ?>checked="checked"<?php } ?>/>顶部居中</label></td> <td><label forid="wm_small_text_2"><input type="radio" name="wm_small_loc" id="wm_small_text_2" value='2' <?php if( $this->_vars['wm_small_loc'] == 2 ){ ?>checked="checked"<?php } ?>/>顶部居右</label></td> </tr> <tr> <td><label forid="wm_small_text_8"><input type="radio" name="wm_small_loc" id="wm_small_text_8" value='8' <?php if( $this->_vars['wm_small_loc'] == 8 ){ ?>checked="checked"<?php } ?>/>左部居中</label></td> <td><label forid="wm_small_text_0"><input type="radio" name="wm_small_loc" id="wm_small_text_0" value='0' <?php if( $this->_vars['wm_small_loc'] == 0 or !$this->_vars['wm_small_loc'] ){ ?>checked="checked"<?php } ?>/>图片中心</label></td> <td><label forid="wm_small_text_6"><input type="radio" name="wm_small_loc" id="wm_small_text_6" value='6' <?php if( $this->_vars['wm_small_loc'] == 6 ){ ?>checked="checked"<?php } ?>/>右部居中</label></td> </tr> <tr> <td><label forid="wm_small_text_4"><input type="radio" name="wm_small_loc" id="wm_small_text_4" value='4' <?php if( $this->_vars['wm_small_loc'] == 4 ){ ?>checked="checked"<?php } ?>/>底部居左</label></td> <td><label forid="wm_small_text_7"><input type="radio" name="wm_small_loc" id="wm_small_text_7" value='7' <?php if( $this->_vars['wm_small_loc'] == 7 ){ ?>checked="checked"<?php } ?>/>底部居中</label></td> <td><label forid="wm_small_text_3"><input type="radio" name="wm_small_loc" id="wm_small_text_3" value='3' <?php if( $this->_vars['wm_small_loc'] == 3 ){ ?>checked="checked"<?php } ?>/>底部居右</label></td> </tr> </table> </td> </tr> </tbody> </table> <?php }else{ ?> <span class="notice-inline">您的服务器未加载GD或imagemagick模块,无法使用水印功能</span> <?php } ?> </div> <div class="table-action"> <button type="submit" onclick="return previewImg('index.php?ctl=system/setting&act=createPreviewImg&p[0]=small',this.form,600,350);" class="btn"><span><span>查看效果</span></span></button> &nbsp;&nbsp;<button type="submit" class="btn"><span><span>保存</span></span></button> </div> </div> <div class="tableform"> <h4>商品相册图水印设定</h4> <?php if( $this->_vars['gd_loaded'] ){ ?> <div class="division"> <table border="0" cellspacing="0" border="0"> <tr> <th>是否开启：</th> <td><?php echo tpl_input_radio(array('name' => "wm_big_enable",'value' => $this->_vars['wm_big_enable'],'options' => $this->_vars['enable_options'],'onClick' => "if(this.value==0){ $('goods_sy_set').style.display='none'; $('goods_sy_pic').getElements('input').each(function(item){item.disabled=true;}); $('goods_sy_char').getElements('input').each(function(item){item.disabled=true;}); };if(this.value==1){ $('goods_sy_set').style.display=''; $('goods_sy_pic').style.display=''; $('goods_sy_pic').getElements('input').each(function(item){item.disabled=false;}); $('goods_sy_char').style.display='none'; $('goods_sy_char').getElements('input').each(function(item){item.disabled=true;}); }; if(this.value==2){ $('goods_sy_set').style.display=''; $('goods_sy_pic').style.display='none';$('goods_sy_char').style.display=''; $('goods_sy_pic').getElements('input').each(function(item){item.disabled=true;}); $('goods_sy_char').getElements('input').each(function(item){item.disabled=false;}); }; "), $this);?> </td> </tr> </table> </div> <div class="division" id="goods_sy_set" <?php if( $this->_vars['wm_big_enable']==0 ){ ?>style="display:none"<?php } ?>> <table border="0" cellpadding="0" cellspacing="0"> <tbody id="goods_sy_pic" <?php if( $this->_vars['wm_big_enable']==2 ){ ?>style="display:none"<?php } ?>> <tr> <th>图片水印图片：</th> <td><?php echo tpl_input_default(array('type' => 'file','name' => 'wm_big_pic','size' => '30'), $this); if( $this->_vars['wm_big_pic'] ){ ?><a href='<?php echo $this->_vars['wm_big_pic']; ?>' target='showpic'>查看</a><?php } ?></td> </tr> <tr> <th>图片水印透明度：</th> <td colspan="3"><?php echo tpl_input_default(array('name' => "wm_big_transition",'type' => "text",'size' => 5,'value' => $this->_vars['wm_big_transition']), $this);?><span class="notice-inline">透明度请设置为0-100之间的数字，0代表完全透明，100代表不透明（水印图片仅支持gif格式的图片）</span></td> </tr> </tbody> <tbody id="goods_sy_char" <?php if( $this->_vars['wm_big_enable']==1 ){ ?>style="display:none"<?php } ?>> <tr> <th>水印文字：</th> <td ><?php echo tpl_input_default(array('name' => "wm_big_text",'type' => "text",'size' => "60",'value' => $this->_vars['wm_big_text']), $this);?></td> </tr> <tr> <th>水印文字字体：</th> <td><?php echo tpl_input_select(array('name' => "wm_big_font",'value' => $this->_vars['wm_big_font'],'options' => $this->_vars['wm_font_options']), $this); if( !$this->_vars['wm_font_options'] ){ ?> <span class="notice-inline">请把所需的字体文件上传到网店服务器根目录下的/public/font文件夹中，字体文件位于本机C:\WINDOWS\Fonts下，例如文件SimSun.ttc表示宋体</span><?php } ?></td> </tr> <tr> <th>字体水印透明度：</th> <td colspan="3"><?php echo tpl_input_default(array('name' => "wm_big_text_transition",'type' => "text",'size' => 5,'value' => ((isset($this->_vars['wm_big_text_transition']) && ''!==$this->_vars['wm_big_text_transition'])?$this->_vars['wm_big_text_transition']:50)), $this);?><span class="notice-inline">透明度请设置为0-127之间的数字，127代表完全透明，0代表不透明</span></td> </tr> <tr> <th>水印文字字体大小：</th> <td><?php echo tpl_input_default(array('name' => "wm_big_font_size",'type' => "text",'size' => 5,'style' => "width:40px",'value' => $this->_vars['wm_big_font_size']), $this);?></td> </tr> <tr> <th>水印文字颜色：</th> <td><?php echo tpl_input_color(array('name' => "wm_big_font_color",'style' => "width:66px",'value' => ((isset($this->_vars['wm_big_font_color']) && ''!==$this->_vars['wm_big_font_color'])?$this->_vars['wm_big_font_color']:'default')), $this);?></td> </tr> </tbody> <tbody> <tr> <th>水印位置：</th> <td> <table style="width:300px" border=1 cellspacing="1" > <tr> <td><label forid="wm_big_text_1"><input type="radio" name="wm_big_loc" id="wm_big_text_1" value='1' <?php if( $this->_vars['wm_big_loc'] == 1 ){ ?>checked="checked"<?php } ?>/>顶部居左</label></td> <td><label forid="wm_big_text_5"><input type="radio" name="wm_big_loc" id="wm_big_text_5" value='5' <?php if( $this->_vars['wm_big_loc'] == 5 ){ ?>checked="checked"<?php } ?>/>顶部居中</label></td> <td><label forid="wm_big_text_2"><input type="radio" name="wm_big_loc" id="wm_big_text_2" value='2' <?php if( $this->_vars['wm_big_loc'] == 2 ){ ?>checked="checked"<?php } ?>/>顶部居右</label></td> </tr> <tr> <td><label forid="wm_big_text_8"><input type="radio" name="wm_big_loc" id="wm_big_text_8" value='8' <?php if( $this->_vars['wm_big_loc'] == 8 ){ ?>checked="checked"<?php } ?>/>左部居中</label></td> <td><label forid="wm_big_text_0"><input type="radio" name="wm_big_loc" id="wm_big_text_0" value='0' <?php if( $this->_vars['wm_big_loc'] == 0 or !$this->_vars['wm_small_text'] ){ ?>checked="checked"<?php } ?>/>图片中心</label></td> <td><label forid="wm_big_text_6"><input type="radio" name="wm_big_loc" id="wm_big_text_6" value='6' <?php if( $this->_vars['wm_big_loc'] == 6 ){ ?>checked="checked"<?php } ?>/>右部居中</label></td> </tr> <tr> <td><label forid="wm_big_text_4"><input type="radio" name="wm_big_loc" id="wm_big_text_4" value='4' <?php if( $this->_vars['wm_big_loc'] == 4 ){ ?>checked="checked"<?php } ?>/>底部居左</label></td> <td><label forid="wm_big_text_7"><input type="radio" name="wm_big_loc" id="wm_big_text_7" value='7' <?php if( $this->_vars['wm_big_loc'] == 7 ){ ?>checked="checked"<?php } ?>/>底部居中</label></td> <td><label forid="wm_big_text_3"><input type="radio" name="wm_big_loc" id="wm_big_text_3" value='3' <?php if( $this->_vars['wm_big_loc'] == 3 ){ ?>checked="checked"<?php } ?>/>底部居右</label></td> </tr> </table></td> </tr> </tbody> </table> <?php }else{ ?> <span class="notice-inline">您的服务器未加载GD或imagemagick模块,无法使用水印功能</span></div> <?php } ?></div> <div class="table-action"> <button type="submit" onclick="return previewImg('index.php?ctl=system/setting&act=createPreviewImg&p[0]=big',this.form,600,350);" class="btn"><span><span>查看效果</span></span></button> &nbsp;&nbsp;<button type="submit" class="btn"><span><span>保存</span></span></button> </div> <div class="tableform"> <h4>商品规格图片尺寸设置 <?php $this->_tag_stack[] = array('tpl_block_help', array()); tpl_block_help(array(), null, $this); ob_start(); ?>此处设置规格图片在前台商品详细页面的显示大小及缺省图片<?php $_block_content = ob_get_contents(); ob_end_clean(); $_block_content = tpl_block_help($this->_tag_stack[count($this->_tag_stack) - 1][1], $_block_content, $this); echo $_block_content; array_pop($this->_tag_stack); $_block_content=''; ?></h4> <div class="division"> <table border="0" cellspacing="0" border="0"> <tr> <th>宽度：</th> <td><?php echo tpl_input_default(array('type' => "digits",'name' => "spec_image_width",'size' => 4,'style' => "width:40px",'required' => 'true','value' => $this->_vars['spec_image_width']), $this);?></td> <th>高度：</th> <td><?php echo tpl_input_default(array('type' => "digits",'name' => "spec_image_height",'size' => 4,'style' => "width:40px",'required' => 'true','value' => $this->_vars['spec_image_height']), $this);?></td> <th>缺省图：</th> <td><?php echo tpl_input_default(array('type' => 'file','name' => 'spec_default_pic','size' => '20'), $this);?> &nbsp;&nbsp;&nbsp;&nbsp;<img style="border:1px solid #3366CC; padding:1px; vertical-align:middle;" src='<?php echo tpl_modifier_storager($this->_vars['spec_default_pic']); ?>' width=<?php echo $this->_vars['spec_image_width']; ?> height="<?php echo $this->_vars['spec_image_height']; ?>"/></td> </tr> </table> </div> <div class="table-action"> <button type="submit" class="btn"><span><span>保存</span></span></button> </div> </div> </div> <script>
    function previewImg(url,f,w,h){
        new Dialog('index.php?ctl=system/setting&act=previewImg',{width:getSize().x*0.7,height:getSize().y*0.7,title:'图片预览'});
        createPreviewImg(url,f);
        return false;
    }
    function createPreviewImg(url,f){
        if(!$("previewImg")){
            var timeFunc = function(){setTimeout(function(){createPreviewImg(url,f);},100)};
            timeFunc();
        }
        else{
            var ftgt=f.target;
            var fact=f.action;
            f.target='_previewImg';
            f.action=url;
            f.submit();
            f.target=ftgt;
            f.action=fact;
        }
    }
  </script> </form> 